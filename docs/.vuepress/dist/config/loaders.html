<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>前端工作流文档 | loaders配置</title>
    <meta name="description" content="基于 Webpack 零配置的前端工作流生态">
    
    <link rel="preload" href="/assets/css/16.styles.be755a89.css" as="style"><link rel="preload" href="/assets/js/app.85822044.js" as="script"><link rel="preload" href="/assets/js/10.5d36f963.js" as="script"><link rel="prefetch" href="/assets/js/9.953c3114.js"><link rel="prefetch" href="/assets/js/1.3f3d84f9.js"><link rel="prefetch" href="/assets/js/2.d290042a.js"><link rel="prefetch" href="/assets/js/3.57f1c35b.js"><link rel="prefetch" href="/assets/js/4.31e4b891.js"><link rel="prefetch" href="/assets/js/5.948cdbcc.js"><link rel="prefetch" href="/assets/js/6.50890080.js"><link rel="prefetch" href="/assets/js/7.6413cbdb.js"><link rel="prefetch" href="/assets/js/8.f88c666a.js"><link rel="prefetch" href="/assets/js/0.1353bd93.js"><link rel="prefetch" href="/assets/js/11.4824266f.js"><link rel="prefetch" href="/assets/js/12.36cbe908.js"><link rel="prefetch" href="/assets/js/13.a73e423f.js"><link rel="prefetch" href="/assets/js/14.d32d9da7.js"><link rel="prefetch" href="/assets/js/15.83d4f0b3.js">
    <link rel="stylesheet" href="/assets/css/16.styles.be755a89.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="router-link-active"><!----><span class="site-name">
      前端工作流文档
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><a href="/guide/">
      指南
    </a><a href="/config/" class="router-link-active">
      配置
    </a><a href="/vue/">
      vue
    </a><a href="/vuessr/">
      vuessr
    </a><!----></nav></div></header><div class="sidebar"><nav class="nav-links"><a href="/guide/">
      指南
    </a><a href="/config/" class="router-link-active">
      配置
    </a><a href="/vue/">
      vue
    </a><a href="/vuessr/">
      vuessr
    </a><!----></nav><ul class="sidebar-links"><li><a href="/config/" class="sidebar-link">基础配置</a></li><li><a href="/config/dev.html" class="sidebar-link">开发环境配置</a></li><li><a href="/config/build.html" class="sidebar-link">打包环境配置</a></li><li><a href="/config/loaders.html" class="active sidebar-link">loaders配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/config/loaders.html#loaders配置" class="sidebar-link">loaders配置</a></li><li class="sidebar-sub-header"><a href="/config/loaders.html#内置loaders" class="sidebar-link">内置loaders</a></li></ul></li><li><a href="/config/plugins.html" class="sidebar-link">plugins配置</a></li><li><a href="/config/hooks.html" class="sidebar-link">hooks配置</a></li></ul></div><div class="page"><div class="content"><h2 id="loaders配置"><a href="#loaders配置" aria-hidden="true" class="header-anchor">#</a> loaders配置</h2><h2 id="内置loaders"><a href="#内置loaders" aria-hidden="true" class="header-anchor">#</a> 内置loaders</h2><p>flow-build内置了<code>babel</code>,<code>eslint</code>,<code>typescript</code>,<code>tslint</code>,<code>css</code>,<code>sass</code>,<code>less</code>,<code>stylus</code>,<code>urlimage</code>,<code>urlfont</code>等loader</p><table><thead><tr><th style="text-align:center">loader</th><th style="text-align:center">别名</th><th style="text-align:center">默认是否开启</th><th style="text-align:center">配置举例</th></tr></thead><tbody><tr><td style="text-align:center">babel-loader</td><td style="text-align:center">babel</td><td style="text-align:center">true</td><td style="text-align:center">禁用: loaders:{ babel: false}</td></tr><tr><td style="text-align:center">eslint-loader</td><td style="text-align:center">eslint</td><td style="text-align:center">false</td><td style="text-align:center">自动修复:loaders:{ eslint: {options: {fix: true}}</td></tr><tr><td style="text-align:center">ts-loader</td><td style="text-align:center">typescript</td><td style="text-align:center">false</td><td style="text-align:center">启用: loaders:{ typescript: true}</td></tr><tr><td style="text-align:center">tslint-loader</td><td style="text-align:center">tslint</td><td style="text-align:center">false</td><td style="text-align:center">启用: loaders:{ tslint: true}</td></tr><tr><td style="text-align:center">css-loader</td><td style="text-align:center">css</td><td style="text-align:center">true</td><td style="text-align:center">禁用: loaders:{ css: false}</td></tr><tr><td style="text-align:center">sass-loader</td><td style="text-align:center">sass</td><td style="text-align:center">false</td><td style="text-align:center">启用: loaders:{ sass: true}</td></tr><tr><td style="text-align:center">less-loader</td><td style="text-align:center">less</td><td style="text-align:center">false</td><td style="text-align:center">启用: loaders:{ less: true}</td></tr><tr><td style="text-align:center">stylus-loader</td><td style="text-align:center">stylus</td><td style="text-align:center">false</td><td style="text-align:center">启用: loaders:{ stylus: true}</td></tr><tr><td style="text-align:center">url-loader</td><td style="text-align:center">urlimage</td><td style="text-align:center">true</td><td style="text-align:center">禁用: loaders:{ urlimage: false}</td></tr><tr><td style="text-align:center">url-loader</td><td style="text-align:center">urlfont</td><td style="text-align:center">true</td><td style="text-align:center">禁用: loaders:{ urlfont: false}</td></tr></tbody></table><p>loades配置非必须，支持 Object | Array。 这里的loaders 是对 Webpack <code>module.rules</code> 的简化和增强。建议用 <code>增强配置</code> 方式配置。</p><ul><li>兼容 Webpack 原生数组配置</li><li>[增强]支持通过别名对内置 <code>loader</code> 开启和禁用，以及参数配置</li><li>[增强]支持通过别名的方式添加 <code>loader</code> 插件</li></ul><h3 id="内置-loader-扩展参数统一通过-options-节点配置"><a href="#内置-loader-扩展参数统一通过-options-节点配置" aria-hidden="true" class="header-anchor">#</a> 内置 loader 扩展参数统一通过 options 节点配置</h3><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token operator">...</span>
    loaders<span class="token punctuation">:</span><span class="token punctuation">{</span>
        $<span class="token punctuation">{</span>loader别名<span class="token punctuation">}</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
            options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                <span class="token comment">// 具体loader参数</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="webpack-loaders-原生数组配置举例"><a href="#webpack-loaders-原生数组配置举例" aria-hidden="true" class="header-anchor">#</a> Webpack loaders 原生数组配置举例</h3><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token operator">...</span>
  loaders<span class="token punctuation">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.html$/</span><span class="token punctuation">,</span>
      use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'html-loader'</span><span class="token punctuation">,</span> <span class="token string">'html-swig-loader'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="webpack-loaders-增强配置举例"><a href="#webpack-loaders-增强配置举例" aria-hidden="true" class="header-anchor">#</a> Webpack loaders 增强配置举例</h3><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token operator">...</span>
    loaders<span class="token punctuation">:</span><span class="token punctuation">{</span>
        less<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启less， 默认禁用</span>
        stylus<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// 开启stylus， 默认禁用</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><b>config.loaders</b> : {Object} Webpack loader 配置, 支持自定义格式和原生格式.</p><p><code>key:value</code> 形式, 其中 <code>key</code> 为别名, 可以自由定义,flow-build和对应解决方案内置了一些别名和loader.</p><p>比如我要添加一个全新且没有内置的 html-swig-loader, 可以这样配置:</p><pre class="language-js"><code><span class="token punctuation">{</span>
    loaders<span class="token punctuation">:</span><span class="token punctuation">{</span>
        swig <span class="token punctuation">:</span> <span class="token punctuation">{</span>
            test<span class="token punctuation">:</span> <span class="token regex">/\.html$/</span><span class="token punctuation">,</span>
            use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'html-loader'</span><span class="token punctuation">,</span> <span class="token string">'html-swig-loader'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><code>swig</code> key别名随意, 我可以叫 swig, 也可以叫 htmlswig 等等</p><h3 id="禁用内置的-babel-loader-可以这样配置"><a href="#禁用内置的-babel-loader-可以这样配置" aria-hidden="true" class="header-anchor">#</a> 禁用内置的 babel-loader 可以这样配置</h3><pre class="language-js"><code><span class="token punctuation">{</span>
    loaders<span class="token punctuation">:</span><span class="token punctuation">{</span>
        babel<span class="token punctuation">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>或</p><pre class="language-js"><code><span class="token punctuation">{</span>
    loaders<span class="token punctuation">:</span><span class="token punctuation">{</span>
        babel<span class="token punctuation">:</span><span class="token punctuation">{</span>
            enable<span class="token punctuation">:</span><span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="修改内置-babel-loader-的-test-和-use-可以这样配置"><a href="#修改内置-babel-loader-的-test-和-use-可以这样配置" aria-hidden="true" class="header-anchor">#</a> 修改内置 babel-loader 的 test 和 use, 可以这样配置</h3><p>因use存在顺序问题, use 目前采用的策略是完全覆盖</p><pre class="language-js"><code><span class="token punctuation">{</span>
    loaders<span class="token punctuation">:</span><span class="token punctuation">{</span>
        babel <span class="token punctuation">:</span> <span class="token punctuation">{</span>
            test<span class="token punctuation">:</span> <span class="token regex">/\.(jsx|vue)?$/</span><span class="token punctuation">,</span>
            exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token regex">/node_modules/</span><span class="token punctuation">,</span> <span class="token string">'page/test'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    loader<span class="token punctuation">:</span> <span class="token string">'eslint-loader'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="loaders具体loader配置项属性介绍"><a href="#loaders具体loader配置项属性介绍" aria-hidden="true" class="header-anchor">#</a> loaders具体loader配置项属性介绍</h3><p>配置项除了支持的loader原生属性, 还扩展了 <code>env</code>, <code>type</code>, <code>enable</code>, <code>postcss</code> 四个属性, 其中 postcss 用于css相关loader</p><ul><li>enable: {Boolean/Function} 是否启用, 可选, 默认可用</li><li>postcss: {Boolean} 可选, 特殊配置, 是否启用postcss, 只有css样式loader需要配置, 其他loader不需要配置</li><li>use: {Array/Function} 必须, 支持扩展的Function配置和原生Use配置, use属性是完全覆盖</li><li>env: 见 <code>env</code> 配置 说明, 可选, 默认全部</li><li>type: 可选值[<code>client</code>, <code>server</code>], 可选, 默认全部</li></ul></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/config/build.html" class="prev">
          打包环境配置
        </a></span><span class="next"><a href="/config/plugins.html">
          plugins配置
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/10.5d36f963.js" defer></script><script src="/assets/js/app.85822044.js" defer></script>
  </body>
</html>
