(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{56:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h2",{attrs:{id:"flow-vue-ssr-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow-vue-ssr-hook","aria-hidden":"true"}},[s._v("#")]),s._v(" flow-vue-ssr-hook")]),a("p",[s._v("基于"),a("code",[s._v("flow-build")]),s._v("，对vue服务端渲染的打包开发插件")]),a("h3",{attrs:{id:"功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能","aria-hidden":"true"}},[s._v("#")]),s._v(" 功能")]),a("ul",[a("li",[s._v("集成"),a("code",[s._v("vue-loader")]),s._v("插件")]),a("li",[s._v("集成"),a("code",[s._v("vue-server-renderer")]),s._v("的"),a("code",[s._v("server-plugin")]),s._v("和"),a("code",[s._v("client-plugin")]),s._v(", 生成"),a("code",[s._v("server-bundle.json")]),s._v("和"),a("code",[s._v("vue-ssr-client-manifest.json")]),s._v("文件")]),a("li",[s._v("自动读取src文件夹下的"),a("code",[s._v("app.js")]),s._v("，生成"),a("code",[s._v("entry-client.js")]),s._v("和"),a("code",[s._v("entry-server.js")]),s._v("两个文件")]),a("li",[s._v("结合"),a("code",[s._v("flow-vue-ssr-middleware")]),s._v("中间件，可以往"),a("code",[s._v("asyncData")]),s._v("里面注入参数")])]),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm install "),a("span",{attrs:{class:"token operator"}},[s._v("--")]),s._v("save"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("dev @local"),a("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("flow"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("vue"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("ssr"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("hook\n")])]),a("h3",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用方法")]),a("p",[s._v("在"),a("code",[s._v("flow.config.js")]),s._v("文件中")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" VueSSRHook "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("require")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"@local/flow-vue-ssr-hook"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("...")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    hooks"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("VueSSRHook")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//可以传入参数，例如：new VueSSRHook(options);")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("h3",{attrs:{id:"参数-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-options","aria-hidden":"true"}},[s._v("#")]),s._v(" 参数 options")]),a("ul",[a("li",[s._v("entry")])]),a("p",[s._v("是否要使用"),a("code",[s._v("flow-vue-ssr-hook")]),s._v("模块提供的entry方案，默认为true。如果要自己提供entry方案，只需如下操作即可：")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" VueSSRHook "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("require")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"@local/flow-vue-ssr-hook"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    entry"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        server"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"./src/server.js"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        client"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"./src/client.js"')]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{attrs:{class:"token operator"}},[s._v("...")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    hooks"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("VueSSRHook")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        entry"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("ul",[a("li",[s._v("serverBundle")])]),a("p",[s._v("webpack插件"),a("code",[s._v("vue-server-renderer/server-plugin")]),s._v("生成的json文件，默认为：server-bundle.json")]),a("ul",[a("li",[s._v("clientManifest\nwebpack插件"),a("code",[s._v("vue-server-renderer/client-plugin")]),s._v("生成的json文件，默认为：vue-ssr-client-manifest.json")])])])}],!1,null,null,null);t.default=e.exports}}]);